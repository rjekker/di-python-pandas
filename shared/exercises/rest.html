<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Exercises: REST</title>
<meta name="generator" content="Org Mode" />
<style>
  #content { max-width: 60em; margin: auto; }
  .title  { text-align: center;
             margin-bottom: .2em; }
  .subtitle { text-align: center;
              font-size: medium;
              font-weight: bold;
              margin-top:0; }
  .todo   { font-family: monospace; color: red; }
  .done   { font-family: monospace; color: green; }
  .priority { font-family: monospace; color: orange; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .org-right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .org-left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .org-center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #e6e6e6;
    border-radius: 3px;
    background-color: #f2f2f2;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: auto;
  }
  pre.src:before {
    display: none;
    position: absolute;
    top: -8px;
    right: 12px;
    padding: 3px;
    color: #555;
    background-color: #f2f2f299;
  }
  pre.src:hover:before { display: inline; margin-top: 14px;}
  /* Languages per Org manual */
  pre.src-asymptote:before { content: 'Asymptote'; }
  pre.src-awk:before { content: 'Awk'; }
  pre.src-authinfo::before { content: 'Authinfo'; }
  pre.src-C:before { content: 'C'; }
  /* pre.src-C++ doesn't work in CSS */
  pre.src-clojure:before { content: 'Clojure'; }
  pre.src-css:before { content: 'CSS'; }
  pre.src-D:before { content: 'D'; }
  pre.src-ditaa:before { content: 'ditaa'; }
  pre.src-dot:before { content: 'Graphviz'; }
  pre.src-calc:before { content: 'Emacs Calc'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-fortran:before { content: 'Fortran'; }
  pre.src-gnuplot:before { content: 'gnuplot'; }
  pre.src-haskell:before { content: 'Haskell'; }
  pre.src-hledger:before { content: 'hledger'; }
  pre.src-java:before { content: 'Java'; }
  pre.src-js:before { content: 'Javascript'; }
  pre.src-latex:before { content: 'LaTeX'; }
  pre.src-ledger:before { content: 'Ledger'; }
  pre.src-lisp:before { content: 'Lisp'; }
  pre.src-lilypond:before { content: 'Lilypond'; }
  pre.src-lua:before { content: 'Lua'; }
  pre.src-matlab:before { content: 'MATLAB'; }
  pre.src-mscgen:before { content: 'Mscgen'; }
  pre.src-ocaml:before { content: 'Objective Caml'; }
  pre.src-octave:before { content: 'Octave'; }
  pre.src-org:before { content: 'Org mode'; }
  pre.src-oz:before { content: 'OZ'; }
  pre.src-plantuml:before { content: 'Plantuml'; }
  pre.src-processing:before { content: 'Processing.js'; }
  pre.src-python:before { content: 'Python'; }
  pre.src-R:before { content: 'R'; }
  pre.src-ruby:before { content: 'Ruby'; }
  pre.src-sass:before { content: 'Sass'; }
  pre.src-scheme:before { content: 'Scheme'; }
  pre.src-screen:before { content: 'Gnu Screen'; }
  pre.src-sed:before { content: 'Sed'; }
  pre.src-sh:before { content: 'shell'; }
  pre.src-sql:before { content: 'SQL'; }
  pre.src-sqlite:before { content: 'SQLite'; }
  /* additional languages in org.el's org-babel-load-languages alist */
  pre.src-forth:before { content: 'Forth'; }
  pre.src-io:before { content: 'IO'; }
  pre.src-J:before { content: 'J'; }
  pre.src-makefile:before { content: 'Makefile'; }
  pre.src-maxima:before { content: 'Maxima'; }
  pre.src-perl:before { content: 'Perl'; }
  pre.src-picolisp:before { content: 'Pico Lisp'; }
  pre.src-scala:before { content: 'Scala'; }
  pre.src-shell:before { content: 'Shell Script'; }
  pre.src-ebnf2ps:before { content: 'ebfn2ps'; }
  /* additional language identifiers per "defun org-babel-execute"
       in ob-*.el */
  pre.src-cpp:before  { content: 'C++'; }
  pre.src-abc:before  { content: 'ABC'; }
  pre.src-coq:before  { content: 'Coq'; }
  pre.src-groovy:before  { content: 'Groovy'; }
  /* additional language identifiers from org-babel-shell-names in
     ob-shell.el: ob-shell is the only babel language using a lambda to put
     the execution function name together. */
  pre.src-bash:before  { content: 'bash'; }
  pre.src-csh:before  { content: 'csh'; }
  pre.src-ash:before  { content: 'ash'; }
  pre.src-dash:before  { content: 'dash'; }
  pre.src-ksh:before  { content: 'ksh'; }
  pre.src-mksh:before  { content: 'mksh'; }
  pre.src-posh:before  { content: 'posh'; }
  /* Additional Emacs modes also supported by the LaTeX listings package */
  pre.src-ada:before { content: 'Ada'; }
  pre.src-asm:before { content: 'Assembler'; }
  pre.src-caml:before { content: 'Caml'; }
  pre.src-delphi:before { content: 'Delphi'; }
  pre.src-html:before { content: 'HTML'; }
  pre.src-idl:before { content: 'IDL'; }
  pre.src-mercury:before { content: 'Mercury'; }
  pre.src-metapost:before { content: 'MetaPost'; }
  pre.src-modula-2:before { content: 'Modula-2'; }
  pre.src-pascal:before { content: 'Pascal'; }
  pre.src-ps:before { content: 'PostScript'; }
  pre.src-prolog:before { content: 'Prolog'; }
  pre.src-simula:before { content: 'Simula'; }
  pre.src-tcl:before { content: 'tcl'; }
  pre.src-tex:before { content: 'TeX'; }
  pre.src-plain-tex:before { content: 'Plain TeX'; }
  pre.src-verilog:before { content: 'Verilog'; }
  pre.src-vhdl:before { content: 'VHDL'; }
  pre.src-xml:before { content: 'XML'; }
  pre.src-nxml:before { content: 'XML'; }
  /* add a generic configuration mode; LaTeX export needs an additional
     (add-to-list 'org-latex-listings-langs '(conf " ")) in .emacs */
  pre.src-conf:before { content: 'Configuration File'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.org-right  { text-align: center;  }
  th.org-left   { text-align: center;   }
  th.org-center { text-align: center; }
  td.org-right  { text-align: right;  }
  td.org-left   { text-align: left;   }
  td.org-center { text-align: center; }
  dt { font-weight: bold; }
  .footpara { display: inline; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .equation-container {
    display: table;
    text-align: center;
    width: 100%;
  }
  .equation {
    vertical-align: middle;
  }
  .equation-label {
    display: table-cell;
    text-align: right;
    vertical-align: middle;
  }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  .org-svg { }
</style>
<link rel="stylesheet" type="text/css" href="../../themes/readtheorg/css/htmlize.css"/>
<link rel="stylesheet" type="text/css" href="../../themes/readtheorg/css/readtheorg.css"/>
<link rel="stylesheet" type="text/css" href="../../css/homelink.css"/>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>
<script type="text/javascript" src="../../themes/lib/js/jquery.stickytableheaders.min.js"></script>
<script type="text/javascript" src="../../themes/readtheorg/js/readtheorg.js"></script>
<script type="text/javascript" src="../../js/addhomelink.js"></script>
</head>
<body>
<div id="content" class="content">
<h1 class="title">Exercises: REST</h1>
<div id="table-of-contents" role="doc-toc">
<h2>Table of Contents</h2>
<div id="text-table-of-contents" role="doc-toc">
<ul>
<li><a href="#org1361275">News API</a>
<ul>
<li><a href="#org3ddf899">Selecting a country</a></li>
<li><a href="#org5fd6e6f">Searching for news</a></li>
</ul>
</li>
<li><a href="#org3385818">Cars and number plates</a>
<ul>
<li><a href="#org3dba55c">Fuel</a></li>
</ul>
</li>
<li><a href="#orgce463d5">Countries</a></li>
<li><a href="#orgb99f457">Borders</a></li>
<li><a href="#orgb20d2a3">Star wars</a>
<ul>
<li><a href="#org81514d5">Star wars characters</a></li>
<li><a href="#org65d77ce">A movie class</a></li>
<li><a href="#org2fa0c84">Movie Characters</a></li>
</ul>
</li>
</ul>
</div>
</div>

<section id="outline-container-org1361275" class="outline-2">
<h2 id="org1361275">News API</h2>
<div class="outline-text-2" id="text-org1361275">
<p>
Create your own api key at <a href="https://newsapi.org">https://newsapi.org</a>.
</p>

<p>
(You may use my API key: <code>80559f68dddf48a689a7d5d5d9074522</code>. But if everyone in
a classroom does this at the same time, some requests might be denied)
</p>

<div class="org-src-container">
<pre class="src src-python"><span class="org-keyword">import</span> requests

<span class="org-variable-name">apiKey</span> = <span class="org-comment-delimiter"># </span><span class="org-comment">your API key here</span>
<span class="org-variable-name">r</span> = requests.get(f<span class="org-string">'https://newsapi.org/v2/top-headlines?country=nl&amp;apiKey=</span>{apiKey}<span class="org-string">'</span>)
data = r.json()
</pre>
</div>

<p>
Closely inspect the result of the call to <code>r.json()</code>. Change the code
so that it prints ONLY the title of a headline, not the rest of the data that
the site returns.
</p>
</div>

<div id="outline-container-org3ddf899" class="outline-3">
<h3 id="org3ddf899">Selecting a country</h3>
<div class="outline-text-3" id="text-org3ddf899">
<p>
Check the documentation for this API at <a href="https://newsapi.org/docs">https://newsapi.org/docs</a>
</p>

<p>
Write a program that asks the user for a country, and then tries to get headlines for that country  from the server.
</p>

<p>
Add code to handle the two error scenario's:
</p>
<ul class="org-ul">
<li>The user inputs no country</li>
<li>The user enters an invalid country (check the server results to see what happens in this case).</li>
</ul>
</div>
</div>

<div id="outline-container-org5fd6e6f" class="outline-3">
<h3 id="org5fd6e6f">Searching for news</h3>
<div class="outline-text-3" id="text-org5fd6e6f">
<p>
It's possible to search for news items containing specific words. Check the documentation at <a href="https://newsapi.org/docs">https://newsapi.org/docs</a> to see how.
</p>

<p>
Ask the user to enter a word and send the correct request to get only items containing that word.
</p>
</div>
</div>
</section>

<section id="outline-container-org3385818" class="outline-2">
<h2 id="org3385818">Cars and number plates</h2>
<div class="outline-text-2" id="text-org3385818">
<p>
Visit <a href="http://opendata.rdw.nl">http://opendata.rdw.nl</a> and click "Basisregistratie Voertuigen".
Then, for the first API ("Open Data RDW: Gekentekende_voertuigen")
click the "documentation" link. You can choose English at the top of
the page. If you need help with this API, don't hesitate to ask.
</p>

<p>
Use the "Gekentekende Voertuigen" API to write a program that:
</p>

<ul class="org-ul">
<li>asks for a car brand</li>
<li>asks for a color</li>
<li>calculates the total weight of all cars with this brand/color
combination.</li>
</ul>

<p>
How much do all purple lamborghini's in the Netherlands weigh
together?
</p>
</div>

<div id="outline-container-org3dba55c" class="outline-3">
<h3 id="org3dba55c">Fuel</h3>
<div class="outline-text-3" id="text-org3dba55c">
<p>
Ask the user for a number plate. Then print the type of fuel this car uses.
</p>

<p>
Example number plate: G-922-RK
</p>
</div>
</div>
</section>


<section id="outline-container-orgce463d5" class="outline-2">
<h2 id="orgce463d5">Countries</h2>
<div class="outline-text-2" id="text-orgce463d5">
<p>
Start by exploring the API at <a href="https://restcountries.com/">https://restcountries.com/</a>
</p>

<p>
Ask the user to enter the name of a country and retrieve the capital
for that country.
</p>

<p>
When there is no matching country, print an appropriate message.
</p>

<p>
If the user enters only a part of the name of a country, you get
multiple matches. Print the country names with capitals for all
matches.
</p>

<p>
Example output:
</p>

<pre class="example" id="org054f1a1">
Country? united
United States Minor Outlying Islands has no capital
Tanzania, United Republic of Dodoma
United Arab Emirates Abu Dhabi
United Kingdom of Great Britain and Northern Ireland London
United States of America Washington, D.C.
Mexico Mexico City
</pre>

<pre class="example" id="orga0cc627">
Country? xx
No such country.
</pre>
</div>
</section>

<section id="outline-container-orgb99f457" class="outline-2">
<h2 id="orgb99f457">Borders</h2>
<div class="outline-text-2" id="text-orgb99f457">
<p>
Each country has a list of bordering countries, called "borders".
</p>

<p>
Ask the user to input a country name. Print the names of the
 bordering countries.
</p>

<p>
Note: you will need to do an extra request for every bordering
country.
</p>

<p>
Example output:
</p>

<pre class="example" id="org172fdf9">
Country? luxembourg
Belgium
France
Germany
</pre>
</div>
</section>

<section id="outline-container-orgb20d2a3" class="outline-2">
<h2 id="orgb20d2a3">Star wars</h2>
<div class="outline-text-2" id="text-orgb20d2a3">
<p>
For this exercise you can use <a href="http://swapi.dev/">http://swapi.dev/</a>
</p>

<p>
Start with visiting that page, playing around with it, and trying to
understand what it does.
</p>
</div>

<div id="outline-container-org81514d5" class="outline-3">
<h3 id="org81514d5">Star wars characters</h3>
<div class="outline-text-3" id="text-org81514d5">
<p>
Write a program that asks for the name of a Star Wars character.
</p>

<p>
Print the following:
</p>
<ul class="org-ul">
<li>The name of their planet of origin</li>
<li>The title of every movie the character appears in</li>
</ul>
</div>
</div>

<div id="outline-container-org65d77ce" class="outline-3">
<h3 id="org65d77ce">A movie class</h3>
<div class="outline-text-3" id="text-org65d77ce">
<p>
Create a class Movie which has at least:
</p>
<ul class="org-ul">
<li>an id</li>
<li>an attribute <i>url</i> which is constructed based on the id</li>
<li>a function <code>get_data()</code>. When this is used, you retrieve the data for
the movie from the REST Api, and store it in an attribute _data.</li>
<li>a function <code>get_title()</code>. This looks up the title in <code>_data</code>, and if
necessary, calls <code>get_data()</code> to retrieve the data first.</li>
</ul>

<div class="org-src-container">
<pre class="src src-python"><span class="org-keyword">import</span> requests


<span class="org-keyword">class</span> <span class="org-type">Movie</span>:
    BASE_URL = <span class="org-string">"https://swapi.dev/api/films"</span>

    <span class="org-comment-delimiter"># </span><span class="org-comment">Your code here</span>

<span class="org-variable-name">m</span> = Movie(3)
<span class="org-builtin">print</span>(m.get_title()) <span class="org-comment-delimiter"># </span><span class="org-comment">causes the data to be loaded</span>
<span class="org-comment-delimiter"># </span><span class="org-comment">output: Return of the Jedi</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org2fa0c84" class="outline-3">
<h3 id="org2fa0c84">Movie Characters</h3>
<div class="outline-text-3" id="text-org2fa0c84">
<p>
Add a method called <code>get_characters()</code> to your Movie class, which we can use as follows:
</p>


<div class="org-src-container">
<pre class="src src-python"><span class="org-variable-name">m</span> = Movie(1) <span class="org-comment-delimiter"># </span><span class="org-comment">passing the id</span>
<span class="org-keyword">for</span> character <span class="org-keyword">in</span> m.get_characters():
    <span class="org-builtin">print</span>(character)
</pre>
</div>

<p>
The new method <code>get_characters()</code> should do a REST call for each
character and return a list with names.
</p>

<p>
Output:
</p>

<pre class="example" id="org93e7c23">
Luke Skywalker
C-3PO
R2-D2
Darth Vader
Leia Organa
Obi-Wan Kenobi
Chewbacca
Han Solo
... etc
</pre>
</div>
</div>
</section>
</div>
<div id="postamble" class="status">
<p class="validation"><a href="https://validator.w3.org/check?uri=referer">Validate</a></p>
</div>
</body>
</html>
